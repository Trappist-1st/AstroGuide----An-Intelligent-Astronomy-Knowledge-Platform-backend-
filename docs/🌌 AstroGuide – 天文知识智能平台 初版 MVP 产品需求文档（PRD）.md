
---

## 一、产品概述

### 1.1 产品名称

**AstroGuide**  
（暂定名：AI-Powered Astronomy Knowledge Hub）

---

### 1.2 产品定位

一个面向**天文爱好者（Enthusiast Level）**的：

- 以 AI 为核心驱动
    
- 具备本科级天文学知识深度
    
- 支持深度问答、知识探索与学习辅助
    
- 国际化、专业向的天文知识网站
    

---

### 1.3 核心目标

打造一个区别于普通科普网站的“**更专业但不晦涩**”的天文学习平台：

- 不只是“百科式问答”
    
- 更接近：
    
    - 大学教材讲解
        
    - 天文科普书籍进阶版
        
    - 业余爱好者的学习伴侣
        

---

### 1.4 目标用户

#### 核心用户画像

- 对天文学有较强兴趣的普通爱好者
    
- 具备一定基础知识
    
- 能理解如下概念的人群：
    

例如已经了解：

- 赫罗图（H-R Diagram）
    
- 恒星演化
    
- 系外行星
    
- 星系结构
    
- 超新星
    
- 暗物质 / 暗能量
    
- 类星体
    
- 黑洞基础
    

但：

- 不是专业天文学研究人员
    
- 希望获得“更深入、更系统”的解释
    

---

### 1.5 产品愿景

长期目标：

> 成为“互联网中最适合天文爱好者的 AI 学习助手平台”

---

### 1.6 产品背景与痛点（用户故事）

AstroGuide 解决的问题来自一类典型用户的真实学习经历。

#### 故事 1：从“科普很顺”到“教材看不懂”的断层

小林是一位天文爱好者，能看懂大多数科普文章，也知道 H-R 图、恒星演化、超新星这些关键词。

某天他想认真搞清楚：“为什么 Ia 型超新星能当标准烛光？”

- 他先去搜索，看到的是百科式解释：概念讲得对，但缺少关键假设、误差来源与适用范围。
- 他又去看视频，讲得更直观，但讲到公式和严谨定义时一带而过；想回查某个细节还得反复拖进度条。
- 他试图翻教材或论文，发现符号、近似条件、推导步骤一下子变得密集；先修知识不够时，阅读体验直接“断电”。

结果：他不是缺答案，而是缺一个能把“本科深度”讲到他能消化的导师。

#### 故事 2：信息很全，但无法形成可学习的路径

小周喜欢“追问到彻底明白”。她的问题通常是链式的：

“这个结论从哪来？”→“需要什么假设？”→“数量级大概是多少？”→“观测证据是什么？”→“有哪些常见误解？”

在论坛或社区里，她确实能找到高手回答，但：

- 回答风格不统一，质量波动大；同一个问题可能出现互相矛盾的解释。
- 讨论常常分散在多个帖子；要形成系统理解，需要大量“翻帖考古”。

结果：信息并不稀缺，稀缺的是“把理解推进下去”的结构与节奏。

#### 故事 3：通用 AI 能聊，但不稳定、也不够“可信”

小陈会使用通用大模型提问。

他发现它确实能讲得像模像样，但也经常遇到：

- 同一问题不同次输出深度差异大；有时像科普，有时像论文。
- 涉及具体数值、观测结论或引用来源时，回答可能“自信但不可靠”。
- 为了得到想要的风格，他要反复在提示词里强调：用本科水平、给公式、解释符号、写英文、再给中文对照、别编数据……

结果：AI 能力有了，但“提示词工程”和“可信度判断”变成了用户的额外负担。

#### 这些故事背后的共性痛点

- **深度断层**：科普太浅、教材太硬，缺少“本科深度但可理解”的中间层
- **缺少导师式结构**：用户需要分层讲解、公式解释、近似条件、常见误区与下一步学习建议
- **术语与符号摩擦**：中英术语、符号约定与单位/数量级不一致导致学习中断
- **可信度焦虑**：需要明确的不确定性表达与边界，而不是“看起来很对”的叙述

AstroGuide 的价值在于：把“大学水平天文学导师”的讲解方式产品化，让用户不靠运气、不靠提示词，也能稳定得到结构化、可学习、可追问的答案。

---

## 二、MVP 范围界定

### 2.1 MVP 原则

- 功能最小化
    
- 场景聚焦
    
- 可快速上线
    
- 能验证核心价值
    

---

### 2.2 本次 MVP 核心目标

验证：

> “AI + 天文学知识服务”的真实用户价值

并明确第一版（MVP / V0）交付聚焦：

> **只做 AI 天文问答（Q&A）体验**，把“专业但不晦涩”的讲解质量做到可复用、可验收。

---

### 2.3 MVP 不包含

以下功能不在第一版范围：

- 复杂天体可视化
    
- 观星模拟
    
- 实时星图
    
- 天文观测工具
    
- 移动端 App

同时明确：以下在产品规划中存在，但**不在 V0 交付**（避免范围膨胀）：

- RAG 知识库（向量检索）
- 专题文章系统
- 完整用户系统（注册/登录/收藏/对话云端同步）

---

### 2.4 V0（仅 Q&A）范围清单

#### In Scope（必须做）

- 问答页面（Web）
- 支持多轮对话上下文
- 三档难度（Basic / Intermediate / Advanced）
- 默认英文输出 + 可切换中文输出
- 流式输出（SSE 或等价能力）
- 术语 / 公式点读解释（Concept Cards）：点击术语、符号或公式片段，弹出简短解释
- 基础可观测：请求日志、错误日志、耗时与 token 用量统计（后端侧）

#### Out of Scope（明确不做）

- 知识库检索、引用与出处系统（RAG）
- 文章内容发布/编辑后台
- 注册登录、收藏、跨设备同步
- 复杂可视化、观测工具、移动端 App

---

### 2.5 V0 验收标准（Definition of Done）

V0 上线前必须满足：

- 回答质量：三档难度输出风格明显区分，并稳定遵守输出模板（见 4.2）
- 可靠性：常见问题可稳定响应，失败时有友好错误提示与重试建议
- 不确定性处理：遇到未知/争议/需要数据来源的问题，必须明确说明不确定性与假设条件，不得编造细节
- 性能：首 token 响应时间与完整回答时间可被监控；长回答可流式持续输出
- 点读解释：在回答中对关键术语/符号/公式提供可点击入口，并能在不额外追问的情况下给出简短解释
- 成本：具备基础限流/截断策略，避免无上限上下文膨胀
    

---

# 三、核心功能设计

---

## 3.1 核心模块一：AI 天文问答（核心）

### 功能描述

用户可以：

- 提问任何天文学相关问题
    
- 获得：
    
    - 专业
        
    - 结构化
        
    - 多层次  
        的 AI 回答
        

---

### 关键特性

#### （1）三档难度回答

用户可选择回答深度：

|难度|目标|
|---|---|
|Basic|通俗解释|
|Intermediate|带一定技术细节|
|Advanced|接近本科教材|

---

#### （2）学术风格输出

支持：

- Markdown 格式
    
- LaTeX 数学公式
    
- 分点结构化讲解
    

---

#### （3）多轮对话

- 基于上下文连续提问
    
- 支持追问
    
- 支持“继续讲解”
    

---

#### （4）英文为主 + 中文支持

- 默认英文
    
- 可切换中文
    
- 同一问题支持双语切换

---

#### （5）术语 / 公式点读解释（Concept Cards，V0）

**目标**：当用户在回答中遇到不熟悉的术语、符号或公式片段时，无需再次发问即可快速补齐背景，从而减少追问次数，节省时间与推理成本。

**用户故事**：用户阅读回答时看到 “Chandrasekhar limit / $M_{\rm Ch}$” 或某个公式里的符号不理解 → 点击该术语/符号 → 页面弹出一段简短解释（可带 1 个例子/直觉）→ 用户继续阅读主答案。

**交互形式（建议）**：

- 默认仅对“关键术语/关键符号”提供可点击样式（避免满屏高亮）
- 点击后以 Popover 或右侧抽屉展示“概念卡片”（不打断主答案）

**概念卡片内容规范（V0）**：

- 1-3 句定义（先直觉后定义）
- 变量/符号含义（若是符号或公式片段）
- 典型数量级/适用条件（可选，若问题相关）
- “继续了解”建议（可选：给出可追问方向，而不是伪造引用）

**成本与一致性原则**：

- 概念卡片应尽量复用（同一术语在不同回答中复用同一解释）
- 若需要模型生成概念卡片：优先使用更低成本模型，并对结果做缓存

---

### V0 问答输出规范（必须遵守）

为保证“精致感”和一致性，V0 强制使用结构化输出：

- **开头一句**：先给出结论或直觉解释（1-2 句）
- **分层讲解**：按难度档位输出对应细节（见 4.2 模板）
- **关键公式（可选）**：仅在有助于理解时给出，符号要解释
- **常见误区**：至少 1 条（视问题类型可选）
- **下一步建议**：给出可追问方向或 1-2 个练习题（视问题类型可选）

并要求：

- 不知道就说不知道；可给出“如何验证/需要哪些数据”
- 严禁捏造具体数值、论文/书籍出处、观测数据
- 对于超出范围（占星、伪科学等）需礼貌拒答，并解释原因
    

---

## 3.2 后续模块（非 V0）：AI 增强知识库（RAG）

### 功能描述（V1+）

平台构建一个“天文学知识库”，用于：

- 提升回答准确性
    
- 提供更系统的讲解
    

---

### 知识来源（V1+ 原则）

为避免版权与合规风险，知识库来源需明确为：

- 可合法使用的公开资料（明确授权或公版）
- 自写/自建结构化知识点

不建议在未获得授权前直接使用受版权保护的教材原文作为索引内容。
    

---

### 使用方式（V1+）

当用户提问时：

```
用户问题
  ↓
向量检索知识库
  ↓
作为上下文输入 GPT
  ↓
生成更准确回答
```

---

## 3.3 后续模块（非 V0）：专题文章系统

### 功能

- 人工撰写 / AI 辅助的天文专题文章
    
- 结构化学习内容
    

---

### 示例

- “恒星演化入门”
    
- “黑洞物理基础”
    
- “系外行星探测方法”
    

---

### 文章特性

- 支持 AI 互动提问
    
- 每篇文章内嵌问答入口
    

---

## 3.4 后续模块（非 V0）：用户系统

### 基础能力

- 注册 / 登录
    
- 对话历史
    
- 收藏问题
    
- 保存记录
    

---

# 四、AI 能力设计

---

## 4.1 主力模型

### 已确定

> 主力模型：**通用大模型（LLM）**

可选实现（按质量/成本/可用性选择）：

- OpenAI GPT 系列
- DeepSeek **V-3.2**

---

### 调用策略

- 高质量问答和普通问题可以分开调用不同的模型，以平衡质量与成本
- 模型应可配置、可替换（不绑定单一供应商），并支持按“难度档位/成本预算/可用性”进行路由
    
---

## 4.2 Prompt 设计原则

AI 角色定位：

> “University-level Astronomy Tutor”

---

### 回答要求

- 严谨
    
- 学术化
    
- 可理解
    
- 不胡说
    
- 必要时给出公式

---

### 4.2.1 三档难度输出模板（建议）

为确保“可验收”，建议对不同难度采用固定骨架：

#### Basic

- 面向具备兴趣但非专业背景的解释
- 少公式、重直觉、类比与例子

#### Intermediate

- 引入关键概念与必要的物理量
- 可包含少量推导/数量级估算

#### Advanced

- 接近本科教材讲解强度
- 可以使用更严格的定义、近似条件、推导步骤
- 明确适用范围与典型数量级

---

### 4.2.2 语言策略（V0）

- 默认英文回答
- UI 提供语言切换：
  - 切到中文：用中文复述同一结构（避免中英夹杂造成术语不一致）
  - 如包含专有名词：中文为主，括号给出英文原词
    

---

## 4.3 RAG 设计（V1+）

V0 不做 RAG。V1+ 方向：

- 向量数据库 +（可选）重排序
- 可追溯的引用片段展示（提升可信度）
- 面向天文概念的切块策略（按知识点/公式段落）
    

---

# 五、技术方案

---

## 5.1 技术栈

### 前端

- Vue 3
    
- Vite
    
- TypeScript
    
- Markdown 渲染
    
- LaTeX 渲染（MathJax / KaTeX）
    

---

### 后端

- Java Spring Boot
    
- REST API
    
- WebSocket / SSE（流式输出）
    

---

### 数据层

- PostgreSQL（V0 可先用 SQLite 快速上线，后续再迁移）
- Vector DB（Qdrant / Milvus，V1+）
    

---

### AI 层

- OpenAI GPT API / DeepSeek API（或等价兼容接口）
    
- Prompt 管理

- RAG 服务（V1+）
    

---

# 六、系统架构

```
Frontend (Vue)
   ↓
Backend (Spring Boot)
   ↓
AI Service Layer
   ↓
LLM API（V0）/ LLM API + Vector DB（V1+）
```

---

# 七、用户体验流程

---

## 7.1 核心流程

1. 用户输入问题
    
2. 选择难度
    
3. GPT 生成答案
    
4. 流式展示
    

---

## 7.2 典型场景

用户：

> “Explain how Type Ia supernovae are used as standard candles”

选择：

- Advanced
    

获得：

- 带公式
    
- 分步骤
    
- 接近教材级讲解
    
---

## 7.3 长期用户旅程（面向产品愿景，V0 → V2+）

本节描述用户从“进入产品”到“完成学习目标”的完整路径，强调长期体验（并不要求 V0 一次性做完）。

### 旅程阶段 A：进入与定位（首次访问 / 低门槛开始）

用户故事：用户带着一个具体困惑来到 AstroGuide（例如在看科普/视频/教材时卡住）。

- 触发点：从搜索、社媒、朋友推荐进入首页/问答页
- 用户动作：选择语言（默认英文）与难度档位（默认 Basic 或上次使用档位）
- 系统反馈：用一句话解释“这是一个大学水平的天文学导师”，并提供示例问题/快捷入口
- 用户价值：不需要懂提示词，马上能开始提问

### 旅程阶段 B：提出问题并获得可学习答案（核心循环，V0 就能闭环）

用户故事：用户输入问题，希望快速得到“能学懂”的解释，而不仅是结论。

- 用户动作：输入问题 → 选择难度 → 发送
- 系统反馈：流式输出结构化回答（开头一句 + 分层讲解 + 公式可选 + 常见误区 + 下一步建议）
- 成本优化：通过结构化模板减少用户追问与重复生成

### 旅程阶段 C：卡点即点读（Concept Cards，减少追问成本，V0 重要差异化）

用户故事：用户读到术语/符号/公式片段不理解，但不想反复追问打断阅读。

- 用户动作：点击术语/符号/公式片段
- 系统反馈：弹出概念卡片（1-3 句定义 + 符号解释 + 可选数量级/适用条件）
- 用户价值：继续阅读主答案，不必重新生成整段回答

### 旅程阶段 D：追问与加深（从“回答”走向“掌握”）

用户故事：用户开始沿着问题链条追问，想把一个主题彻底搞懂。

- 用户动作：追问“这个假设什么时候不成立？”“给一个数量级估算”
- 系统反馈：保持同一难度/语言与同一讲解风格，持续在上下文里推进
- 系统能力（V0/V1+）：必要时建议用户补充条件（例如距离、质量、红移范围）以避免编造数值

### 旅程阶段 E：沉淀为个人知识资产（V1.5+/V2+）

用户故事：用户想把高质量回答保存下来，形成自己的学习资料库。

- 用户动作：收藏问题、保存对话、导出笔记（Markdown/PDF）、整理到“主题”
- 系统反馈：提供可检索的历史、主题归档与复习入口

### 旅程阶段 F：从问答到体系化学习（V1+：RAG；V1.5+：文章；V2+：用户系统）

用户故事：用户不再只问零散问题，而是想系统学习（像上课/读教材那样）。

- V1+（RAG）：对需要出处/更严谨背景的问题，给出可追溯的引用片段与上下文，提升可信度
- V1.5+（文章）：用户进入专题文章，边读边问；问答与文章相互链接，形成学习路径
- V2+（用户系统）：跨设备同步、订阅主题、学习进度与个性化推荐

### 旅程终点：达成“更专业但不晦涩”的学习体验

衡量标准（长期）：用户能用更少的时间/更少的追问获得更深的理解，并愿意持续回访，把 AstroGuide 作为长期学习工具。

---

# 八、界面模块（MVP）

---

## 8.1 页面清单

V0 页面建议保持极简：

- 问答页面（核心）
- 首页（可选：产品介绍 + 直接进入问答）
    

---

## 8.2 核心页面：问答页

包含：

- 输入框
    
- 难度选择
    
- 语言切换（EN / 中文）

- 历史记录
    
- AI 回答区

---

### 8.2.1 关键交互（V0）

- **发送问题**：支持回车发送；支持多行输入（避免打断思考）
- **流式输出**：回答以流式逐步呈现；支持“停止生成”（可选）
- **重试/重写**：当生成失败或用户不满意时，可一键重写（可选）
- **反馈**：回答提供简单反馈入口（👍/👎 + 可选原因）（可选，但强烈建议）

---

### 8.2.2 术语 / 公式点读解释（Concept Cards）

- 回答正文中对关键术语、符号或公式片段显示可点击样式
- 点击后在 Popover 或右侧抽屉展示概念卡片：
  - 简短定义（1-3 句）
  - 符号解释（若点击的是符号/公式片段）
  - 适用条件/典型数量级（可选）
- 概念卡片展示不应刷新/重写主回答，避免额外推理消耗
    

---

# 九、数据设计（简要）

---

### 核心表

V0 最小集合：

- conversations（会话）
- messages（消息）

可选（若需要基础用户能力）：

- users（匿名用户也可，用 device/session 先跑通 MVP）
    

---

# 十、上线目标

---

## 10.1 MVP 成功标准

- 网站可公开访问
    
- AI 问答稳定可用
    
- 支持三档难度
    
- 英文体验良好

- 支持中英文切换

- 成本与稳定性可控（具备限流/截断/错误兜底）
    

---

## 10.2 验证指标

建议将指标更贴合“学习导师型产品”的价值：

- 追问率（用户在同一主题下继续问）
- 收藏/复制率（用户愿意保存或带走内容）
- 满意度（Thumbs up/down + 可选文本反馈）
- 复访率（7 日内回访）
- 平均响应耗时与失败率（稳定性核心指标）
- 平均 token / 次（成本指标）

---

## 10.3 主要风险与应对（V0）

- 幻觉/错误：强制“不确定性表达”，必要时引导用户提供条件；高风险问题（需精确数据/最新发现）可拒答或给出验证路径
- 版权风险：V0 不做教材类 RAG；若引用资料，要求可合法使用（公版/授权/自写）
- 成本失控：上下文截断、最大输出长度、按难度档位限制 token；必要时对匿名用户限频
- 体验不一致：采用固定输出模板（3 档难度）并做小规模“种子题库”回归测试

---

## 10.4 成本与性能策略（V0）

- 模型路由（示例）：Advanced 使用高质量模型（如 GPT 高配或 DeepSeek V-3.2 高配），Basic/Intermediate 使用低成本模型（可按实际质量调整）
- 上下文策略：只保留最近 N 轮对话 + 系统提示 + 用户当前问题；超长对话进行摘要压缩（可选）
- 流式输出：优先 SSE；失败时可降级为非流式一次性返回
- Concept Cards：概念卡片优先缓存与复用；若需生成，优先使用低成本模型，并做到“点开才生成/拉取”，避免每次回答都额外消耗
    

---

# 十一、开发里程碑

---

### Phase 1

- 基础网站框架（问答页 + 流式输出）
- GPT 问答集成（含三档难度与双语）
- 基础日志与用量统计
    

### Phase 2

- RAG 知识库（V1+，合法来源 + 可追溯引用）
    

### Phase 3

- 专题文章系统（V1.5+）
    

### Phase 4

- 用户系统（V2+，注册/登录/收藏/同步/订阅）
    

---

# 十二、未来扩展方向（非 MVP）

### 问答增强
- 引用与出处系统：回答中嵌入可点击引用，链接外部来源，提升可信度
- 不确定性量化：回答附带置信度评分，透明表达边界
- 多专家视角：支持切换解释风格（理论 vs. 观测），增加深度

### 知识管理与学习辅助
- 知识图谱导航：可视化天文概念关系图，帮助构建体系知识
- 学习路径推荐：基于提问历史，推荐下一步学习主题
- 术语词典扩展：全量天文术语库，支持搜索与AI生成解释

### 用户体验与互动
- 同行评审机制：用户投票/评论回答，专家审核，提升可信度
- 实时协作问答：多人共享会话，共同提问
- 进度跟踪：记录学习里程碑，如“掌握黑洞基础”

### 数据与分析
- 回答质量监控：自动检测幻觉/错误，日志分析
- 观测数据集成：链接真实天文数据库，提供实时数据查询
- 成本透明化：显示每次问答的token/成本

### 长期扩展
- 天体可视化
- 观测工具
- 课程模块
- 多模态（图片分析）
- 多模态输入：支持上传星图/公式图片，AI解析
- 国际化：多语言支持 + 文化适应
    

---

# 结语

这个 MVP 的核心一句话可以概括：

> **用 AI 把“大学水平的天文学导师”讲解方式产品化，让用户不靠运气、不靠提示词，也能稳定得到结构化、可学习、可追问的答案。**

## 下一步建议

我们现在可以继续一起做：

我建议接下来按这个顺序推进：

1. 我帮你设计：
    
    - 第一版 System Prompt
        
    - 三档难度 Prompt 模板
        
2. 一起设计：
    
    - API 接口文档
        
    - 数据库结构
        

---

如果你愿意，下一步我可以帮你：

👉 把这份 PRD 转化为：

**《技术设计文档（TDD）》+ API 设计**

你可以告诉我：

> 你更想先细化：
> 
> - Prompt 设计
>     
> - 还是接口设计？
>